<link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet" />
<div class="section-title">
  <div class="d-flex justify-content-between align-items-center">
    <p><%= @lesson.title %></p>
    <% if current_user.teacher? %>
      <div class="d-flex align-items-center">
        <%= link_to 'Edit Lesson', edit_topic_lesson_path(@topic, @lesson) , class: 'btn btn-sm btn-outline-success' %>
        <span class="mx-2"></span>
        <%= link_to 'Delete Lesson', topic_lesson_path(@topic, @lesson), class: 'btn btn-outline-danger btn-sm', method: :delete, data: {confirm: 'Are you sure'} %>
      </div>
    <% end %>
  </div>
  <h2><%= @lesson.topic.title %> - Lesson <%= @lesson.order %></h2>
</div>
<% if @lesson.video.attached? %>
  <div class="row">
    <div class='col-lg-10 col-md-11'>
      <video
        id="my-video"
        class="video-js"
        controls
        preload="auto"
        width="750"
        height="400"
        poster="<%= @lesson.banner_image_path %>"
        data-setup="{}"
      >
        <source src="<%= url_for @lesson.video %>" type="video/mp4" />
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and consider upgrading to a
          web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank"
        >supports HTML5 video</a
      >
        </p>
      </video>
    </div>
  </div>
<% end %>
<div class="lesson-content">
  <%= @lesson.content %>
</div>
<script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>
